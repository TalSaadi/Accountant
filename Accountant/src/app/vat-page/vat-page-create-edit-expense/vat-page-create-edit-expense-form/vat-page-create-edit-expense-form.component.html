<div class="card shadow no-border" style="margin-left: 30%;">
    <div class="card-body">
        <h4 class="text-right">טופס הוצאה</h4>
        <div [formGroup]="expenseForm" class="mr-2">
            <div class="form-row mb-2 mt-3">
              <div class="text-right">
                <label for="ExpenseTitle">תיאור ההוצאה</label>
                <input 
                    type="text" 
                    class="form-control text-right"
                    [ngClass]="isValidField('ExpenseTitle')"
                    id="ExpenseTitle" 
                    name="ExpenseTitle"
                    placeholder="תיאור ההוצאה" 
                    formControlName="ExpenseTitle"
                    required>
                <div class="valid-feedback" *ngIf="ExpenseTitle.valid && ExpenseTitle.touched">
                  !נראה טוב
                </div>
                <div class="invalid-feedback" *ngIf="ExpenseTitle.invalid && ExpenseTitle.touched">
                    .אנא הכנס תיאור תקין
                </div>
              </div>
            </div>
            <div class="form-row mb-2">
                <div class="text-right">
                  <label for="Category">סוג ההוצאה</label>
                  <select
                    class="form-control text-right"
                    (change)="onChangeCategory($event)" 
                    formControlName="Category"
                    id="Category" 
                    name="Category"
                    [ngClass]="isValidField('Category')">
                    <option value="" disabled class="text-right">בחר סוג הוצאה</option>
                    <option *ngFor="let category of categories" [ngValue]="category.value">
                        {{category.title}}
                    </option>
                  </select>
                  <div class="valid-feedback" *ngIf="Category.valid && Category.touched">
                      !נראה טוב
                  </div>
                  <div class="invalid-feedback" *ngIf="Category.invalid && Category.touched">
                      .אנא בחר סוג הוצאה תקין
                  </div>
                </div>
            </div>
            <div class="form-row mb-2">
              <div class="text-right">
                <label for="Amounts">סכום ההוצאה</label>
                <input 
                    #amounts
                    type="number" 
                    min="1"
                    class="form-control text-right" 
                    placeholder="הכנס מחיר & לחץ אנטר" 
                    (keyup.enter)="addAmount(amounts.value); amounts.value = null"
                    required>
                <div class="row">
                    <div *ngFor="let amount of Amounts.controls">
                        <button type="button" class="btn btn-primary price mt-3 mr-1">
                            <b>{{amount.value}}</b>
                            <i class="fas fa-times ml-2" style="font-size: 15px"></i>
                        </button>
                    </div>
                </div>
              </div>
            </div>
            <div class="form-row mb-2 ml-3">
              <div class="text-right">
                <label for="Total">סך הכל</label>
                <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text">₪</span>
                    </div>
                    <input
                        type="text" 
                        class="form-control text-right" 
                        id="Total" 
                        placeholder="סך הכל" 
                        formControlName="Total"
                        required>      
                </div>
              </div>
            </div>
            <div class="form-row mb-2 ml-3">
                <div class="text-right">
                  <label for="VatAmount">מע"מ תשומות</label>
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text">%</span>
                    </div>
                    <input
                        [disabled]="true"
                        type="text" 
                        class="form-control text-right" 
                        id="VatAmount" 
                        placeholder="מעמ תשומות" 
                        formControlName="VatAmount"
                        required>
                  </div>
                </div>
            </div>
            <div class="form-row mb-2 ml-3">
                <div class="text-right">
                  <label for="AfterVat">הוצאות ללא מע"מ</label>
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text">₪</span>
                    </div>
                    <input
                        [disabled]="true"
                        type="text" 
                        class="form-control text-right" 
                        id="AfterVat" 
                        placeholder="הוצאות ללא מעמ" 
                        formControlName="AfterVat"
                        required>
                  </div>
                </div>
            </div>
            <div class="form-row mb-2 ml-3">
                <div class="text-right">
                    <label for="Date">תאריך</label>
                    <div class="input-group">
                        <input 
                            class="form-control text-right" 
                            placeholder="בחר תאריך"
                            name="dp" 
                            [displayMonths]="2"
                            [navigation]="'none'"
                            [outsideDays]="'collapsed'"
                            [showWeekNumbers]="false"
                            ngbDatepicker
                            #d="ngbDatepicker">
                        <div class="input-group-append">
                          <button class="btn btn-outline-secondary calendar" (click)="d.toggle()" type="button">
                            <i class="far fa-calendar-alt"></i>
                          </button>
                        </div>
                    </div>           
                </div>
            </div>
            <div *ngIf="isEditMode">
              <button 
                  class="btn btn-outline-primary mt-2 ml-3 float-left" 
                  type="submit"
                  (click)="onUpdate()">
                  עדכון
              </button>
              <button 
                  class="btn btn-outline-danger mt-2  float-right"
                  (click)="onDelete()">
                  מחיקה
              </button>
            </div>
            <div *ngIf="!isEditMode">
              <button 
                    class="btn btn-outline-primary mt-2 ml-3 float-left" 
                    type="submit"
                    (click)="onCreate()">
                    יצירה
                </button>
                <button 
                    class="btn btn-outline-danger mt-2 float-right"
                    (click)="onDiscard()">
                    ביטול
                </button>    
            </div>
        </div>
    </div>
</div>